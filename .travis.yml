os: osx
osx_image: xcode8

addons:
  homebrew:
    packages:
    - autoconf@2.13
    - cmake
    - gnu-tar
    - python
    - libidl
    - llvm@10
    - node
    - sccache
    - mercurial
    - nasm
    - yasm
    - watchman

install:
  - brew install ccache
  - export PATH="/usr/local/opt/ccache/libexec:$PATH"

script:
- ./mach build
- ./mach package
